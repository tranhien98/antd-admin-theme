{"ast":null,"code":"import { parse } from \"querystring\";\n\nfunction getPageQuery() {\n  parse(window.location.href.split(\"?\")[1]);\n}\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\n\n\nexport function get(obj, key) {\n  return key.split(\".\").reduce(function (o, x) {\n    return o === undefined || o === null ? o : o[x];\n  }, obj); // key.split('.').reduce(function(o, x) {\n  //     return (o === undefined || o === null) ? o : o[x];\n  //   }, obj);\n}\n\nObject.byString = function (o, s) {\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\n\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\n\n  let a = s.split(\".\");\n\n  for (let i = 0, n = a.length; i < n; ++i) {\n    let k = a[i];\n\n    if (o !== null) {\n      if (k in o) {\n        o = o[k];\n      } else {\n        return;\n      }\n    } else {\n      return;\n    }\n  }\n\n  return o;\n};\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\n\n\nexport function has(obj, key) {\n  return key.split(\".\").every(function (x) {\n    if (typeof obj !== \"object\" || obj === null || x in obj === false) /// !x in obj or  x in obj === true *** if you find any bug\n      return false;\n    obj = obj[x];\n    return true;\n  });\n}\n/* \r\n convert indexes to properties\r\n*/\n\nexport function valueByString(obj, string, devider) {\n  if (devider === undefined) {\n    devider = \"|\";\n  }\n\n  return string.split(devider).map(function (key) {\n    return get(obj, key);\n  }).join(\" \");\n}\n/*\r\n Submit multi-part form using ajax.\r\n*/\n\nexport function toFormData(form) {\n  let formData = new FormData();\n  const elements = form.querySelectorAll(\"input, select, textarea\");\n\n  for (let i = 0; i < elements.length; ++i) {\n    const element = elements[i];\n    const name = element.name;\n\n    if (name && element.dataset.disabled !== \"true\") {\n      if (element.type === \"file\") {\n        const file = element.files[0];\n        formData.append(name, file);\n      } else {\n        const value = element.value;\n\n        if (value && value.trim()) {\n          formData.append(name, value);\n        }\n      }\n    }\n  }\n\n  return formData;\n}\n/*\r\n Format Date to display admin\r\n*/\n\nexport function formatDate(param) {\n  const date = new Date(param);\n  let day = date.getDate().toString();\n  let month = (date.getMonth() + 1).toString();\n  const year = date.getFullYear();\n  if (month.length < 2) month = `0${month}`;\n  if (day.length < 2) day = `0${day}`;\n  const fullDate = `${day}/${month}/${year}`;\n  return fullDate;\n}\n/*\r\n Format Datetime to display admin\r\n*/\n\nexport function formatDatetime(param) {\n  let time = new Date(param).toLocaleTimeString();\n  return formatDate(param) + \" \" + time;\n}\n/*\r\n Set object value in html\r\n*/\n\nexport function bindValue(obj, parentElement) {\n  parentElement.querySelectorAll(\"[data-property]\").forEach(element => {\n    const type = element.dataset.type;\n    let value = valueByString(obj, element.dataset.property);\n    console.log({\n      type\n    });\n\n    switch (type) {\n      case \"date\":\n        value = formatDate(value);\n        break;\n\n      case \"datetime\":\n        value = formatDatetime(value);\n        break;\n\n      case \"currency\":\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n        break;\n\n      default:\n        break;\n    }\n\n    element.innerHTML = value;\n  });\n}\nexport default getPageQuery;","map":{"version":3,"sources":["D:/coding-space/Reactjs/starter-antd-admin-crud-auth-mern/frontend/src/utils/helpers.js"],"names":["parse","getPageQuery","window","location","href","split","get","obj","key","reduce","o","x","undefined","Object","byString","s","replace","a","i","n","length","k","has","every","valueByString","string","devider","map","join","toFormData","form","formData","FormData","elements","querySelectorAll","element","name","dataset","disabled","type","file","files","append","value","trim","formatDate","param","date","Date","day","getDate","toString","month","getMonth","year","getFullYear","fullDate","formatDatetime","time","toLocaleTimeString","bindValue","parentElement","forEach","property","console","log","toFixed","innerHTML"],"mappings":"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","sourcesContent":["import { parse } from \"querystring\";\r\nfunction getPageQuery() {\r\n  parse(window.location.href.split(\"?\")[1]);\r\n}\r\n\r\n/* \r\n To get nested object properties.\r\n admin = {\r\n    location: {\r\n        lat: 50,\r\n        long: 9\r\n    }\r\n }\r\n\r\n get(admin, 'location.lat')     // 50\r\n get(admin, 'location.foo.bar') // undefined\r\n*/\r\n\r\nexport function get(obj, key) {\r\n  return key.split(\".\").reduce(function (o, x) {\r\n    return o === undefined || o === null ? o : o[x];\r\n  }, obj);\r\n\r\n  // key.split('.').reduce(function(o, x) {\r\n  //     return (o === undefined || o === null) ? o : o[x];\r\n  //   }, obj);\r\n}\r\n\r\nObject.byString = function (o, s) {\r\n  s = s.replace(/\\[(\\w+)\\]/g, \".$1\"); // convert indexes to properties\r\n  s = s.replace(/^\\./, \"\"); // strip a leading dot\r\n  let a = s.split(\".\");\r\n  for (let i = 0, n = a.length; i < n; ++i) {\r\n    let k = a[i];\r\n    if (o !== null) {\r\n      if (k in o) {\r\n        o = o[k];\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  return o;\r\n};\r\n\r\n/* \r\n To check only if a property exists, without getting its value. It similer get function.\r\n*/\r\nexport function has(obj, key) {\r\n  return key.split(\".\").every(function (x) {\r\n    if (typeof obj !== \"object\" || obj === null || x in obj === false)\r\n      /// !x in obj or  x in obj === true *** if you find any bug\r\n      return false;\r\n    obj = obj[x];\r\n    return true;\r\n  });\r\n}\r\n\r\n/* \r\n convert indexes to properties\r\n*/\r\nexport function valueByString(obj, string, devider) {\r\n  if (devider === undefined) {\r\n    devider = \"|\";\r\n  }\r\n  return string\r\n    .split(devider)\r\n    .map(function (key) {\r\n      return get(obj, key);\r\n    })\r\n    .join(\" \");\r\n}\r\n\r\n/*\r\n Submit multi-part form using ajax.\r\n*/\r\nexport function toFormData(form) {\r\n  let formData = new FormData();\r\n  const elements = form.querySelectorAll(\"input, select, textarea\");\r\n  for (let i = 0; i < elements.length; ++i) {\r\n    const element = elements[i];\r\n    const name = element.name;\r\n\r\n    if (name && element.dataset.disabled !== \"true\") {\r\n      if (element.type === \"file\") {\r\n        const file = element.files[0];\r\n        formData.append(name, file);\r\n      } else {\r\n        const value = element.value;\r\n        if (value && value.trim()) {\r\n          formData.append(name, value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return formData;\r\n}\r\n\r\n/*\r\n Format Date to display admin\r\n*/\r\nexport function formatDate(param) {\r\n  const date = new Date(param);\r\n  let day = date.getDate().toString();\r\n  let month = (date.getMonth() + 1).toString();\r\n  const year = date.getFullYear();\r\n  if (month.length < 2) month = `0${month}`;\r\n  if (day.length < 2) day = `0${day}`;\r\n  const fullDate = `${day}/${month}/${year}`;\r\n  return fullDate;\r\n}\r\n\r\n/*\r\n Format Datetime to display admin\r\n*/\r\nexport function formatDatetime(param) {\r\n  let time = new Date(param).toLocaleTimeString();\r\n  return formatDate(param) + \" \" + time;\r\n}\r\n\r\n/*\r\n Set object value in html\r\n*/\r\nexport function bindValue(obj, parentElement) {\r\n  parentElement.querySelectorAll(\"[data-property]\").forEach((element) => {\r\n    const type = element.dataset.type;\r\n    let value = valueByString(obj, element.dataset.property);\r\n    console.log({ type });\r\n    switch (type) {\r\n      case \"date\":\r\n        value = formatDate(value);\r\n        break;\r\n\r\n      case \"datetime\":\r\n        value = formatDatetime(value);\r\n        break;\r\n\r\n      case \"currency\":\r\n        value = value.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    element.innerHTML = value;\r\n  });\r\n}\r\n\r\nexport default getPageQuery;\r\n"]},"metadata":{},"sourceType":"module"}